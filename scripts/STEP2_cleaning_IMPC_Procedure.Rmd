---
title: "STEP2_cleaning_IMPC_Procedure"
author: "Manushri Karwa"
date: "2025-11-17"
output: html_document
---

cleaning the IMPC_Procedure.csv file and saving the cleaned version as IMPC_Procedure_CLEAN.csv

state input/output file names

```{r setup, include=FALSE}
input_file <- "IMPC_Procedure.csv"
output_file <- "IMPC_Procedure_CLEAN.csv"
```

loading the data into a dataframe

```{r}
# keeping text fields as character strings instead of being converted to factors
df <- read.csv(input_file, stringsAsFactors = FALSE) 
```

inspecting the first few rows

```{r}
head(df)
```

helper function to trim whitespace

```{r}
trim_ws <- function(x) gsub("^\\s+|\\s+$", "", x)

df$name <- trim_ws(df$name)
df$description <- trim_ws(df$description)

df$description[df$description == ""] <- NA
df$description <- gsub(" ", " ", df$description, fixed = TRUE)
df$description <- tolower(df$description)
```

check for duplicates and if any, deleting them

```{r}
sum(duplicated(df))

# keep only the first row if full-row duplicates appear
df <- df[!duplicated(df), ]
```

saving cleaned data

```{r}
write.csv(df, output_file, row.names = FALSE)
```
